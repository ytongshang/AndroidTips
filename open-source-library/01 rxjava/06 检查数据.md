# 检查数据

- [all](#all)
- [exists](#exists)
- [isEmpty](#isempty)
- [contains](#contains)
- [defaultIfEmpty](#defaultifempty)
- [elementAt](#elementat)
- [sequenceEqual](#sequenceequal)


## all

- 用来判断 observable 中发射的所有数据是否都满足一个条件
- all 函数返回的是一个发射一个布尔值的 Observable，而不是直接返回一个 布尔值

```java
Observable<Integer> values = Observable.create(o -> {
    o.onNext(0);
    o.onNext(10);
    o.onNext(10);
    o.onNext(2);
    o.onCompleted();
});
Subscription evenNumbers = values
    .all(i -> i % 2 == 0)
    .subscribe(
        v -> System.out.println(v),
        e -> System.out.println("Error: " + e),
        () -> System.out.println("Completed")
    );
```

## exists

- 如果源 exists 发射的数据中有一个满足条件，则 exists 就返回true。 exists 和 all 一样也是返回一个Observable 而不是直接返回布尔值

```java
Observable<Integer> values = Observable.range(0, 2);
Subscription subscription = values
    .exists(i -> i > 2)
    .subscribe(
        v -> System.out.println(v),
        e -> System.out.println("Error: " + e),
        () -> System.out.println("Completed")
    );
```

## isEmpty

- 顾名思义，判断一个 Observable 是否是空的，也就是没有发射任何数据就结束了

## contains

- contains 使用 Object.equals 函数来判断源 Observable 是否发射了相同的数据。只要遇到相同的数据，则 contains 就立刻返回

## defaultIfEmpty

- 如果你不想单独处理没有发射任何数据的情况（需要用 isEmpty 函数来检查是否为空），则可以使用 defaultIfEmpty 函数来强制一个空的 Observable 发射一个默认数据

```java
Observable<Integer> values = Observable.empty();
Subscription subscription = values
    .defaultIfEmpty(2)
    .subscribe(
        v -> System.out.println(v),
        e -> System.out.println("Error: " + e),
        () -> System.out.println("Completed")
    );
2
```

## elementAt

- 从特定的位置选择一个数据发射。
- 该函数和访问数组或者集合类似，如果 Observable 发射的数据个数没有这么多，则会抛出 java.lang.IndexOutOfBoundsException 。
- 可以使用一个默认值（elementAtOrDefault）来避免抛出 java.lang.IndexOutOfBoundsException

```java
Observable<Integer> values = Observable.range(100, 10);
Subscription subscription = values
    .elementAtOrDefault(22, 0)
    .subscribe(
        v -> System.out.println(v),
        e -> System.out.println("Error: " + e),
        () -> System.out.println("Completed")
    );
```

## sequenceEqual

- 用来比较两个 Observable 发射的数据是否是一样的，同样位置的数据是一样的。
- 要求两个 Observable 发射的数据个数是一样的并且每个位置上的数据也是一样的。 
- 该函数内部用 Object.equals 来比较数据，当然你也可以自己指定一个比较函数

```java
Observable<String> strings = Observable.just("1", "2", "3");
Observable<Integer> ints = Observable.just(1, 2, 3);
Observable.sequenceEqual(strings, ints, (s,i) -> s.equals(i.toString()))
//Observable.sequenceEqual(strings, ints)
    .subscribe(
        v -> System.out.println(v),
        e -> System.out.println("Error: " + e),
        () -> System.out.println("Completed")
    );
true
Completed
```